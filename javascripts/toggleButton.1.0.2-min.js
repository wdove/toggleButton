(function(a){var b=function(k,o){var i=a(k),m="px",c="id",h=a('<div style="position:relative"/>').css({width:o.ImageWidth+m,height:o.ImageHeight+m}),d=a('<a href="" style="position:absolute;left:0px;top:0px;background-repeat:no-repeat"/>').attr({id:i.attr(c)+"_ToggleButton"}).css({width:o.ImageWidth+m,height:o.ImageHeight+m,fontSize:o.ImageHeight+m,backgroundImage:"url("+o.Url+")"});if(n()){l(e(),false,true)}else{j()}i.css("display","none").before(h.append(d)).bind("click change",j);d.click(g).mouseover(f).mouseout(j);if(a.browser.msie&&a.browser.version<=8.99){i.parent().find('label[for="'+i.attr(c)+'"]').attr("for",d.attr(c))}function j(){l(e(),false,n())}function g(p){a(k)[0].click();p.preventDefault();return false}function f(){l(e(),true,n())}function l(q,r,p){var s=null;if(q){if(r){s=o.CheckedOver}else{if(p){s=o.CheckedDisabled}else{s=o.Checked}}}else{if(r){s=o.UncheckedOver}else{if(p){s=o.UncheckedDisabled}else{s=o.Unchecked}}}if(s===null){s=o.Unchecked}d.css("background-position",s)}function e(){return i.is(":checked")}function n(){return i.is(":disabled")}};a.fn.toggleButton=function(c){c=a.extend({},a.fn.toggleButton.defaults,c);var d=function(g,f){var e="px";g=g.toString();if(g.indexOf(e)<0&&g.indexOf("%")<0){return -g*f+e}return g};c.Checked=d(c.Checked[0],c.ImageWidth)+" "+d(c.Checked[1],c.ImageHeight);c.Unchecked=d(c.Unchecked[0],c.ImageWidth)+" "+d(c.Unchecked[1],c.ImageHeight);if(c.CheckedOver!=null){c.CheckedOver=d(c.CheckedOver[0],c.ImageWidth)+" "+d(c.CheckedOver[1],c.ImageHeight)}if(c.UncheckedOver!=null){c.UncheckedOver=d(c.UncheckedOver[0],c.ImageWidth)+" "+d(c.UncheckedOver[1],c.ImageHeight)}if(c.CheckedDisabled!=null){c.CheckedDisabled=d(c.CheckedDisabled[0],c.ImageWidth)+" "+d(c.CheckedDisabled[1],c.ImageHeight)}if(c.UncheckedDisabled!=null){c.UncheckedDisabled=d(c.UncheckedDisabled[0],c.ImageWidth)+" "+d(c.UncheckedDisabled[1],c.ImageHeight)}return this.each(function(){new b(a(this),c)})};a.fn.toggleButton.defaults={ImageWidth:50,ImageHeight:50,Url:null,Checked:null,Unchecked:null,CheckedOver:null,UncheckedOver:null,CheckedDisabled:null,UncheckedDisabled:null}})(jQuery);